{"version":3,"sources":["views/ViewStyles.module.scss","../node_modules/@babel/runtime/helpers/esm/typeof.js","components/Books/BookStyles.module.scss","../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","components/Books/error.jpg","../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/esm/createSuper.js","../node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/inherits.js","components/Books/BookDetails.jsx","views/BookDetailsView.jsx"],"names":["module","exports","_typeof","obj","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_getPrototypeOf","o","Object","setPrototypeOf","getPrototypeOf","__proto__","_possibleConstructorReturn","self","call","assertThisInitialized","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","toString","e","result","Super","NewTarget","this","arguments","apply","_setPrototypeOf","p","_inherits","subClass","superClass","create","value","writable","configurable","BookDetails","bookDetails","imgUrl","reserveData","title","genre","author","descr","className","s","thumb","src","errorImg","alt","meta","name","BookDetailsView","getReserveBook","bookId","props","getBookDetails","books","find","book","id","Number","handleGoBack","location","history","state","from","push","a","match","params","axios","get","data","notify","section","goBackBtn","type","onClick","toast","Component","mapDispatch","connect"],"mappings":"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","file":"static/js/BookDetails.59c3e9a9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"ViewStyles_section__AuNei\",\"goBackBtn\":\"ViewStyles_goBackBtn__3UJi4\",\"breadcrumbs\":\"ViewStyles_breadcrumbs__30e5K\",\"container\":\"ViewStyles_container__3TyNI\",\"Loading\":\"ViewStyles_Loading__23h_i\",\"useList\":\"ViewStyles_useList__3vLRS\",\"strong\":\"ViewStyles_strong__3kEIs\",\"toast\":\"ViewStyles_toast__3PgFy\"};","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bookList\":\"BookStyles_bookList__gnjuQ\",\"thumb\":\"BookStyles_thumb__AFLZ2\",\"toast\":\"BookStyles_toast__1z44a\",\"BookDetails\":\"BookStyles_BookDetails__1ghun\",\"meta\":\"BookStyles_meta__3Rj3L\",\"genre\":\"BookStyles_genre__3QNxq\"};","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","export default __webpack_public_path__ + \"static/media/error.42d26448.jpg\";","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","import getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport isNativeReflectConstruct from \"@babel/runtime/helpers/esm/isNativeReflectConstruct\";\nimport possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nexport default function _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"@babel/runtime/helpers/esm/setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import errorImg from './error.jpg';\nimport s from './BookStyles.module.scss';\n\nexport default function BookDetails({ bookDetails, reserveData }) {\n  const { imgUrl, title, genre, author, descr } = bookDetails;\n\n  return (\n    <div className={s.BookDetails}>\n      <div className={s.thumb}>\n        {title === 'Дагон' ? (\n          <img src={errorImg} alt={title} />\n        ) : (\n          <img src={imgUrl} alt={title} />\n        )}\n      </div>\n      <div className={s.meta}>\n        <h2>{title}</h2>\n        <p className={s.genre}>{genre}</p>\n        {author && <p>Author: {author.name}</p>}\n        <p>{descr}</p>\n      </div>\n    </div>\n  );\n}\n","import { Component } from 'react';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\nimport { getBookDetails } from '../redux/books/actions';\nimport BookDetails from '../components/Books/BookDetails';\nimport reserveData from '../components/reserveData.json';\nimport { ToastContainer } from 'react-toastify';\nimport notify from '../components/Toastify';\nimport s from './ViewStyles.module.scss';\n\nclass BookDetailsView extends Component {\n  async componentDidMount() {\n    const { bookId } = this.props.match.params;\n    const { getBookDetails } = this.props;\n\n    try {\n      const { data } = await axios.get(\n        `http://localhost:2222/books/${bookId}?_expand=author`,\n      );\n      getBookDetails(data);\n      notify('success', 'Successful downloading!');\n      // throw new Error(); // *\n    } catch (error) {\n      this.getReserveBook(bookId);\n      notify('error', 'Server is not available!');\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.getBookDetails({});\n  }\n\n  getReserveBook = bookId =>\n    this.props.getBookDetails(\n      reserveData.books.find(book => book.id === Number(bookId)),\n    );\n\n  handleGoBack = () => {\n    const { location, history } = this.props;\n\n    location.state && location.state.from\n      ? history.push(location.state.from)\n      : history.push('/applications/books');\n  };\n\n  render() {\n    const { bookDetails } = this.props;\n\n    return (\n      <>\n        <section className={s.section}>\n          <button\n            className={s.goBackBtn}\n            type=\"button\"\n            onClick={this.handleGoBack}\n          >\n            &#8592; Go back\n          </button>\n          <h1>Book Details</h1>\n          <BookDetails bookDetails={bookDetails} reserveData={reserveData} />\n          <ToastContainer className={s.toast} />\n        </section>\n      </>\n    );\n  }\n}\n\nconst mapState = state => ({\n  bookDetails: state.books.bookDetails,\n});\n\n// const mapDispatch = dispatch => ({\n//   getBookDetails: bookDetails => dispatch(getBookDetails(bookDetails)),\n// });\n\nconst mapDispatch = { getBookDetails };\n\nexport default connect(mapState, mapDispatch)(BookDetailsView);\n"],"sourceRoot":""}