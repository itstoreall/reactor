{"version":3,"sources":["components/Books/BookDetails.jsx","views/BookDetailsView.jsx","views/ViewStyles.module.scss","components/Books/BookStyles.module.scss","components/Books/error.jpg","components/Toastify/Toastify.js"],"names":["BookDetails","bookDetails","imgUrl","reserveData","title","genre","author","descr","className","s","thumb","src","errorImg","alt","name","BookDetailsView","getReserveBook","bookId","props","getBookDetails","books","find","book","id","Number","handleGoBack","location","history","state","from","push","routes","path","a","this","match","params","axios","get","data","notify","section","goBackBtn","type","onClick","toast","Component","mapDispatch","connect","module","exports","status","text","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined"],"mappings":"+OAGe,SAASA,EAAT,GAAoD,IAA7BC,EAA4B,EAA5BA,YAC5BC,GADwD,EAAfC,YACDF,EAAxCC,QAAQE,EAAgCH,EAAhCG,MAAOC,EAAyBJ,EAAzBI,MAAOC,EAAkBL,EAAlBK,OAAQC,EAAUN,EAAVM,MAEtC,OACE,sBAAKC,UAAWC,IAAET,YAAlB,UACE,qBAAKQ,UAAWC,IAAEC,MAAlB,SACa,mCAAVN,EACC,qBAAKO,IAAKC,IAAUC,IAAKT,IAEzB,qBAAKO,IAAKT,EAAQW,IAAKT,MAG3B,6BAAKA,IACL,4BAAIC,IACHC,GAAU,yCAAYA,EAAOQ,QAC9B,4BAAIP,O,qDCPJQ,E,4MAkBJC,eAAiB,SAAAC,GAAM,OACrB,EAAKC,MAAMC,eACThB,EAAYiB,MAAMC,MAAK,SAAAC,GAAI,OAAIA,EAAKC,KAAOC,OAAOP,Q,EAGtDQ,aAAe,WAAO,IAAD,EACW,EAAKP,MAA3BQ,EADW,EACXA,SAAUC,EADC,EACDA,QAElBD,EAASE,OAASF,EAASE,MAAMC,KAC7BF,EAAQG,KAAKJ,EAASE,MAAMC,MAC5BF,EAAQG,KAAKC,IAAO,GAAGC,O,8FA3B7B,kCAAAC,EAAA,6DACUhB,EAAWiB,KAAKhB,MAAMiB,MAAMC,OAA5BnB,OACAE,EAAmBe,KAAKhB,MAAxBC,eAFV,kBAK2BkB,IAAMC,IAAN,sCACUrB,EADV,oBAL3B,gBAKYsB,EALZ,EAKYA,KAGRpB,EAAeoB,GACfC,YAAO,UAAW,2BATtB,kDAYIN,KAAKlB,eAAeC,GACpBuB,YAAO,QAAS,4BAbpB,0D,0EAgCA,WAAU,IACAvC,EAAgBiC,KAAKhB,MAArBjB,YAER,OACE,mCACE,0BAASO,UAAWC,IAAEgC,QAAtB,UACE,wBACEjC,UAAWC,IAAEiC,UACbC,KAAK,SACLC,QAASV,KAAKT,aAHhB,4BAOA,8CACA,cAACzB,EAAD,CAAaC,YAAaA,EAAaE,YAAaA,IACpD,cAAC,IAAD,CAAgBK,UAAWC,IAAEoC,iB,GAhDTC,aA+DxBC,EAAc,CAAE5B,oBAEP6B,uBAVE,SAAApB,GAAK,MAAK,CACzB3B,YAAa2B,EAAMR,MAAMnB,eASM8C,EAAlBC,CAA+BjC,I,mBC3E9CkC,EAAOC,QAAU,CAAC,QAAU,4BAA4B,UAAY,8BAA8B,QAAU,4BAA4B,MAAQ,4B,mBCAhJD,EAAOC,QAAU,CAAC,SAAW,6BAA6B,MAAQ,0BAA0B,MAAQ,0BAA0B,YAAc,kC,gxrBCD7H,QAA0B,mC,8ECe1BV,G,MAZA,SAACW,EAAQC,GACtB,OAAOP,IAAM,GAAD,OAAIM,IAAT,UAAsBC,GAAQ,CACnCC,SAAU,YACVC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC","file":"static/js/BookDetails.088828d2.chunk.js","sourcesContent":["import errorImg from './error.jpg';\nimport s from './BookStyles.module.scss';\n\nexport default function BookDetails({ bookDetails, reserveData }) {\n  const { imgUrl, title, genre, author, descr } = bookDetails;\n\n  return (\n    <div className={s.BookDetails}>\n      <div className={s.thumb}>\n        {title === 'Дагон' ? (\n          <img src={errorImg} alt={title} />\n        ) : (\n          <img src={imgUrl} alt={title} />\n        )}\n      </div>\n      <h2>{title}</h2>\n      <p>{genre}</p>\n      {author && <p>Author: {author.name}</p>}\n      <p>{descr}</p>\n    </div>\n  );\n}\n","import { Component } from 'react';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\nimport { getBookDetails } from '../redux/books/actions';\nimport BookDetails from '../components/Books/BookDetails';\nimport { routes } from '../components/routes';\nimport reserveData from '../components/Books/reserveBooks.json';\nimport { ToastContainer } from 'react-toastify';\nimport notify from '../components/Toastify';\nimport s from './ViewStyles.module.scss';\n\nclass BookDetailsView extends Component {\n  async componentDidMount() {\n    const { bookId } = this.props.match.params;\n    const { getBookDetails } = this.props;\n\n    try {\n      const { data } = await axios.get(\n        `http://localhost:2222/books/${bookId}?_expand=author`,\n      );\n      getBookDetails(data);\n      notify('success', 'Successful downloading!');\n      // throw new Error(); // *\n    } catch (error) {\n      this.getReserveBook(bookId);\n      notify('error', 'Server is not available!');\n    }\n  }\n\n  getReserveBook = bookId =>\n    this.props.getBookDetails(\n      reserveData.books.find(book => book.id === Number(bookId)),\n    );\n\n  handleGoBack = () => {\n    const { location, history } = this.props;\n\n    location.state && location.state.from\n      ? history.push(location.state.from)\n      : history.push(routes[2].path);\n\n    // history.push(location.state.from);\n  };\n\n  render() {\n    const { bookDetails } = this.props;\n\n    return (\n      <>\n        <section className={s.section}>\n          <button\n            className={s.goBackBtn}\n            type=\"button\"\n            onClick={this.handleGoBack}\n          >\n            &#8592; Go back\n          </button>\n          <h1>Book Details</h1>\n          <BookDetails bookDetails={bookDetails} reserveData={reserveData} />\n          <ToastContainer className={s.toast} />\n        </section>\n      </>\n    );\n  }\n}\n\nconst mapState = state => ({\n  bookDetails: state.books.bookDetails,\n});\n\n// const mapDispatch = dispatch => ({\n//   getBookDetails: bookDetails => dispatch(getBookDetails(bookDetails)),\n// });\n\nconst mapDispatch = { getBookDetails };\n\nexport default connect(mapState, mapDispatch)(BookDetailsView);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"ViewStyles_section__AuNei\",\"goBackBtn\":\"ViewStyles_goBackBtn__3UJi4\",\"useList\":\"ViewStyles_useList__3vLRS\",\"toast\":\"ViewStyles_toast__3PgFy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bookList\":\"BookStyles_bookList__gnjuQ\",\"thumb\":\"BookStyles_thumb__AFLZ2\",\"toast\":\"BookStyles_toast__1z44a\",\"BookDetails\":\"BookStyles_BookDetails__1ghun\"};","export default __webpack_public_path__ + \"static/media/error.42d26448.jpg\";","import { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nconst notify = (status, text) => {\n  return toast[`${status}`](`${text}`, {\n    position: 'top-right',\n    autoClose: 2000,\n    hideProgressBar: false,\n    closeOnClick: true,\n    pauseOnHover: true,\n    draggable: true,\n    progress: undefined,\n  });\n};\n\nexport default notify;\n"],"sourceRoot":""}